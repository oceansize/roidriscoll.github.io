<html>
  <head>
    <meta content='Feeling around in the dark' property='og:title' />
    <title>Feeling around in the dark</title>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700' rel='stylesheet' type='text/css'>
<link href='/images/fav.png' rel='shortcut icon'>
<link href='/assets/syntax.css' rel='stylesheet' type='text/css' />
<link href='/assets/style.css' rel='stylesheet' type='text/css' />
<link href='/assets/responsive.css' rel='stylesheet' type='text/css' />
<link href='/assets/stuff/style.css' rel='stylesheet' type='text/css' />
<!-- - -->
<script src='/assets/jquery.js' type='text/javascript'></script>
<script src='/assets/pd.js' type='text/javascript'></script>
<script src='/assets/stuff.js' type='text/javascript'></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<!-- - -->
<meta content='width=device-width, initial-scale=1.0, user-scalable=no' name='viewport'>
<meta content='text/html; charset=utf-8' http-equiv='content-type' />
<meta content="http://muan.co/images/og.png" property="og:image" />

  <meta content='http://roidriscoll.co.uk/2015/09/10/dude-wheres-my-variable/' property='og:url' />
  <meta content="Today I witnessed a rather heated debate about Ruby, and how it stores a value in a variable. No-one in the group was..." property='og:description' />
  <meta content="article" property="og:type" />

<!-- - -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-10622245-2', 'auto');
  ga('send', 'pageview');

</script>

  </head>
  <body>
    <div class="wrapper">

      <header>
        <p><a href="/" class="hex-shape big"></a></p>

<hr />

      </header>

      <div class="content-wrapper">
        <section class="content">
          <article>
            <h3 class="reset bold upcase a">Dude, Where's My Variable?</h3>
            
              <small class="datetime muted">10 Sep 2015</small>
            
            <hr>
            <p>Today I witnessed a rather heated debate about Ruby, and how it stores a value in a variable. No-one in the group was able to reach a consensus and I thought it would be fun to explore in blog-post form (after a little research!)</p>

<h3>Pass by Reference Vs Pass by Value</h3>

<p>Firstly it&rsquo;s important to understand that for the most part, a language associates values with variables in either of the following ways: <strong>passing by reference</strong> or <strong>passing by value</strong>.</p>

<p>To understand this, I turned to Stack Overflow and found this <a href="http://stackoverflow.com/questions/373419/whats-the-difference-between-passing-by-reference-vs-passing-by-value">fantastic post</a>, which I will repost here:</p>

<h3>Say I want to share a web page with you&hellip;</h3>

<h4>By Ref(erence)</h4>

<p>If I tell you the URL, I&rsquo;m <strong>passing by reference.</strong> You can use that URL to see the same web page I can see. If that page is changed, we both see the changes. If you delete the URL, all you&rsquo;re doing is <em>destroying your reference to that page</em> - you&rsquo;re not deleting the actual page itself.</p>

<h4>By Val(ue)</h4>

<p>If I print out the page and give you the printout, I&rsquo;m <strong>passing by value.</strong> Your page is a disconnected copy of the original. You won&rsquo;t see any subsequent changes, and any changes that you make (e.g. scribbling on your printout) will not show up on the original page. <em>If you destroy the printout, you have actually destroyed your copy of the object</em> - but the original web page remains intact.</p>

<h3>Ruby is Pass by Value</h3>

<p>Consider the following program:</p>

<pre><code>def increment(number)
  number += 1
end

integer = 1
increment(integer)
puts integer
</code></pre>

<h2>Output: By Ref</h2>

<pre><code>=&gt; 2
</code></pre>

<p>In this case, the <code>number</code> variable increments the value of <code>integer</code> because inside <code>number</code> is a <em>reference</em> to a value. In our example, this variable contains the URL, not the site.</p>

<h2>Output: By Val</h2>

<pre><code>=&gt; 1
</code></pre>

<p>In this case, the <code>number</code> and <code>integer</code> variables are independent from one another. The value stored inside each variable is the printout in our web example.</p>

<h3>Still confused?</h3>

<p>Let&rsquo;s make sure we definitely get this. Consider the following example:</p>

<pre><code>def secret_squirrel(message)
  message &lt;&lt; " Iron Man is actually Tony Stark!"
  message &lt;&lt; " Spider Man is a student called Peter Parker."
  message &lt;&lt; " Batman's secret identity is Bruce Wayne."
  message = "Nothing to see here. Move along."
end
</code></pre>

<p>What do we anticipate would happen if we did the following:</p>

<pre><code>tell_me_secrets = "Psst, what's news?"
secret_squirrel(tell_me_secrets)
puts tell_me_secrets
</code></pre>

<p>What do we anticipate Ruby will give us if we ask for the contents of <code>tell_me_secrets</code>?</p>

<p>If you guessed that a lot of Super Heroes are currently cursing me, this blog and possibly even the Ruby programming language then you&rsquo;re right. And if that was a lucky guess, allow me to explain&hellip;</p>

<p>We pass the variable <code>tell_me_secrets</code> (which contains a string value) to the method <code>secret squirrel</code>. Once inside, <code>tell_me_secrets</code>, represented by the variable <code>message</code> in the method has the shovel (<code>&lt;&lt;</code>) operator applied to it. At this point you might expect that <code>message</code> is a copy of <code>tell_me_secrets</code> value, but the</p>

<p>??? both of the standard cloning methods do a shallow copy, so the instance variables of the clone still point to the same objects that the originals did.???</p>

<h4>Sources:</h4>

<ul>
<li>Stack Overflow post <a href="http://stackoverflow.com/questions/22827566/ruby-parameters-by-reference-or-by-value/22827949#22827949">&ldquo;Ruby - Parameters by reference or by value?&rdquo;</a></li>
<li>Stack Overflow post <a href="http://stackoverflow.com/a/10974116">&ldquo;Is Ruby pass by reference or by value?&rdquo;</a></li>
</ul>


          </article>
          <div class="signoff">
  <p>
    Til next time,<br/>
    <div class="avatar-wrapper"><img src="/images/morning_coffee.png" alt="" class="avatar" /></div>
    Roi
    <span class="muted">at 12:52</span>
    <br />
    <span class="small upcase bold"><a href="/about" id="me">Find out about
        me</a>. Also <a href="http://www.twitter.com/share?url=http://roidriscoll.co.uk/2015/09/10/dude-wheres-my-variable/&via=roidriscoll&text=Dude, Where's My Variable?"
        target="_blank">Tweet</a> this or follow me on <a
    href="https://twitter.com/roidriscoll/" target="_blank">Twitter</a>.</span>
  </p>
</div>

          <div class="pagination">
            
              <hr />
              <p class="toned upcase small">Use ← and → to navigate between posts.</p>
              <hr />
              <a href="/2015/05/25/new-site/" id="js-previous-post">
                <div class="arrow big">❰</div>
                <p><span class="small toned upcase">
                  Previous Post</span>
                  <br />
                  <span class="bold link">New Site</span>
                  <p class="toned small">I figured it was about time I got to blogging.
</p>
                  <span class="small upcase datetime muted">25 May 2015</span>
                </p>
              </a>
            
            
          </div>
        </section>
      </div>
      <footer>
        <hr />
<p class="small upcase bold">
  The blog is built with <a href="http://jekyllrb.com/" target="_blank"
    id="jekyll">Jekyll</a> hosting on <a
    href="http://github.com/roidriscoll/roidriscoll.github.com" target="_blank"
    id="repo">GitHub Pages</a> design <a
    href="https://github.com/muan/muan.github.com/releases/tag/v1.0.0-hex">Hex
    Theme</a>.
</p>

<div class="hex-shape small muted"></span>

      </footer>
    </div>
  </body>
</html>
